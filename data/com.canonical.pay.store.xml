<?xml version="1.0" encoding="UTF-8"?>
<node>
    <interface name="com.canonical.pay.store">
        <!-- Methods return a dictionary of properties. Some methods may
             return only a subset of the following properties:

             acknowledged: boolean, whether the item has been acknowledged
             acknowledged_time: uint64, unix timestamp of acknowledged time
             description: string, description of the item
             id: int, numeric identifier of the item
             price: string, the locale/currency encoded price
             purchased_time: uint64,  unix timestamp of purchased time
             sku: string, a short identifier, unique to the application.
             state: string, one of ['available', 'approved', 'purchased']
             title: string, the title of the item
             type: string, one of '[unlockable', 'consumable']
        -->

        <!-- Returns a dictionary of properties for the item.
         -->
        <method name="GetItem">
            <arg direction="in" type="s" name="sku" />
            <arg direction="out" type="a{sv}" name="item_properties" />
        </method>

        <!-- Yields an array of dictionaries of properties for each 
             purchased item, both unlockable or consumable.
        -->
        <method name="GetPurchasedItems">
            <arg direction="out" type="aa{sv}" name="items" />
        </method>

        <!-- Launches the purchase flow for an item.
             Returns a dictionary of properties for the specified item.
        -->
        <method name="PurchaseItem">
            <arg direction="in" type="s" name="sku" />
            <arg direction="out" type="a{sv}" name="item_properties" />
        </method>

        <!-- Acknowledges that the client has finished performing all
             necessary reactions to the purchase and returns a dictionary
             of properties for the specified item.
             For consumable items, this also consumes the item and makes
             it available for future repurchase.
        -->
        <method name="AcknowledgeItem">
            <arg direction="in" type="s" name="sku" />
            <arg direction="out" type="a{sv}" name="item_properties" />
        </method>

        <!-- Requests a refund for an item. Only valid for click/snap store
             and returns a dictionary of properties for the specified item.
        -->
        <method name="RefundItem">
            <arg direction="in" type="s" name="sku" />
            <arg direction="out" type="a{sv}" name="item_properties" />
        </method>

    </interface>
</node>
